(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1695],{37953:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>H});var s=t(95155),i=t(79746),a=t(98500),n=t.n(a),l=t(73321),o=t(89239),c=t(12115),d=t(89349),u=t(40980);let m=c.forwardRef(({className:e,children:r,...t},i)=>(0,s.jsxs)(d.bL,{ref:i,className:(0,u.cn)("relative overflow-hidden",e),...t,children:[(0,s.jsx)(d.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(h,{}),(0,s.jsx)(d.OK,{})]}));m.displayName=d.bL.displayName;let h=c.forwardRef(({className:e,orientation:r="vertical",...t},i)=>(0,s.jsx)(d.VM,{ref:i,orientation:r,className:(0,u.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:(0,s.jsx)(d.lr,{className:"relative flex-1 rounded-full bg-border"})}));h.displayName=d.VM.displayName;var f=t(98401),x=t(48368),p=t(33024),g=t(42129),b=t(7810),v=t(17243),N=t(89363),j=t(15197),w=t(21362),y=t(41641),A=t(51914),k=t(41313);let C=[{title:"Dashboard",titleHindi:"डैशबोर्ड",href:"/admin",icon:f.A},{title:"Articles",titleHindi:"लेख",href:"/admin/articles",icon:x.A},{title:"Content",titleHindi:"कंटेंट",href:"/admin/content",icon:p.A},{title:"Categories",titleHindi:"श्रेणियाँ",href:"/admin/categories",icon:g.A},{title:"Authors",titleHindi:"लेखक",href:"/admin/authors",icon:b.A},{title:"Media",titleHindi:"मीडिया",href:"/admin/media",icon:v.A},{title:"Settings",titleHindi:"सेटिंग्स",href:"/admin/settings",icon:N.A}],S=()=>{let e=(0,l.usePathname)(),r=(0,l.useRouter)(),{user:t,logout:a}=(0,i.bn)(),[d,h]=(0,c.useState)(!1);return(0,s.jsxs)("aside",{className:(0,u.cn)("h-screen bg-card border-r border-border flex flex-col transition-all duration-300",d?"w-16":"w-64"),children:[(0,s.jsxs)("div",{className:(0,u.cn)("h-16 border-b border-border flex items-center px-4",d?"justify-center":"justify-between"),children:[!d&&(0,s.jsxs)(n(),{href:"/admin",className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"w-6 h-6 text-primary"}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"CMS"})]}),d&&(0,s.jsx)(j.A,{className:"w-6 h-6 text-primary"}),(0,s.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>h(!d),className:(0,u.cn)("h-8 w-8",d&&"absolute -right-3 bg-background border shadow-sm"),children:d?(0,s.jsx)(w.A,{className:"w-4 h-4"}):(0,s.jsx)(y.A,{className:"w-4 h-4"})})]}),!d&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)(o.$,{className:"w-full gap-2",onClick:()=>r.push("/admin/articles/new"),children:[(0,s.jsx)(A.A,{className:"w-4 h-4"}),"नया लेख"]})}),d&&(0,s.jsx)("div",{className:"p-2",children:(0,s.jsx)(o.$,{size:"icon",className:"w-full",onClick:()=>r.push("/admin/articles/new"),children:(0,s.jsx)(A.A,{className:"w-4 h-4"})})}),(0,s.jsx)(m,{className:"flex-1 px-2",children:(0,s.jsx)("nav",{className:"space-y-1 py-2",children:C.map(r=>{let t=e===r.href||"/admin"!==r.href&&e?.startsWith(r.href);return(0,s.jsxs)(n(),{href:r.href,className:(0,u.cn)("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors",t?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground",d&&"justify-center"),title:d?r.titleHindi:void 0,children:[(0,s.jsx)(r.icon,{className:"w-5 h-5 shrink-0"}),!d&&(0,s.jsx)("span",{className:"text-sm font-medium",children:r.titleHindi})]},r.href)})})}),(0,s.jsxs)("div",{className:(0,u.cn)("border-t border-border p-4",d&&"p-2"),children:[!d&&t&&(0,s.jsxs)("div",{className:"mb-3 px-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:t.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:t.email})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(o.$,{variant:"outline",size:d?"icon":"default",className:(0,u.cn)("gap-2",!d&&"w-full"),onClick:()=>r.push("/"),title:"साइट देखें",children:[(0,s.jsx)(j.A,{className:"w-4 h-4"}),!d&&"साइट देखें"]})}),(0,s.jsxs)(o.$,{variant:"ghost",size:d?"icon":"default",className:(0,u.cn)("gap-2 mt-2 text-destructive hover:text-destructive",!d&&"w-full"),onClick:()=>{a(),r.push("/admin/login")},title:"लॉगआउट",children:[(0,s.jsx)(k.A,{className:"w-4 h-4"}),!d&&"लॉगआउट"]})]})]})};var _=t(6296);function H({children:e}){let{isAuthenticated:r,isLoading:t}=(0,i.bn)(),a=(0,l.useRouter)();return((0,c.useEffect)(()=>{t||r||a.push("/admin/login")},[t,r,a]),t)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsx)(_.A,{className:"w-8 h-8 animate-spin text-primary"})}):r?(0,s.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,s.jsx)(S,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto",children:e})]}):null}},40980:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var s=t(29722),i=t(622);function a(...e){return(0,i.QP)((0,s.$)(e))}},79154:(e,r,t)=>{Promise.resolve().then(t.bind(t,37953))},79746:(e,r,t)=>{"use strict";t.d(r,{T:()=>o,bn:()=>c});var s=t(95155),i=t(12115);let a=(0,i.createContext)(void 0),n="admin_auth",l={"admin@rampurnews.com":{password:"admin123",user:{id:"1",name:"Admin",email:"admin@rampurnews.com",role:"admin"}},"editor@rampurnews.com":{password:"editor123",user:{id:"2",name:"संपादक",email:"editor@rampurnews.com",role:"editor"}}},o=({children:e})=>{let[r,t]=(0,i.useState)(null),[o,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{try{let e=localStorage.getItem(n);if(e){let r=JSON.parse(e);r.user&&r.expiresAt>Date.now()?t(r.user):localStorage.removeItem(n)}}catch(e){console.error("Error loading auth state:",e)}c(!1)},[]);let d=(0,i.useCallback)(async(e,r)=>{await new Promise(e=>setTimeout(e,500));let s=l[e.toLowerCase()];if(s&&s.password===r){let e={user:s.user,expiresAt:Date.now()+864e5};return localStorage.setItem(n,JSON.stringify(e)),t(s.user),!0}return!1},[]),u=(0,i.useCallback)(()=>{localStorage.removeItem(n),t(null)},[]);return(0,s.jsx)(a.Provider,{value:{user:r,isAuthenticated:!!r,isLoading:o,login:d,logout:u},children:e})},c=()=>{let e=(0,i.useContext)(a);if(!e)throw Error("useAdminAuth must be used within AdminAuthProvider");return e}},89239:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var s=t(95155),i=t(12115),a=t(42442),n=t(18460),l=t(40980);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef(({className:e,variant:r,size:t,asChild:i=!1,...n},c)=>{let d=i?a.DX:"button";return(0,s.jsx)(d,{className:(0,l.cn)(o({variant:r,size:t,className:e})),ref:c,...n})});c.displayName="Button"}},e=>{e.O(0,[9743,8409,2012,8441,3794,7358],()=>e(e.s=79154)),_N_E=e.O()}]);